# AbstraÃ§Ãµes erradas

No inÃ­cio do curso, vimos que duplicaÃ§Ã£o de cÃ³digo pode ser considerada uma mÃ¡ prÃ¡tica, porÃ©m, em alguns casos, tais como em verificaÃ§Ãµes (ou _assertions_), nÃ£o me incomodo com cÃ³digo duplicado, visto que quero entender ao ler os testes exatamente o que eles esperam que ocorra apÃ³s alguma prÃ©-condiÃ§Ã£o e um certo conjunto de aÃ§Ãµes.

Ou seja, vale mais a pena deixar algum cÃ³digo duplicado no teste para facilitar o entendimento do que exatamente tal teste espera (o que estÃ¡ sendo testado), ao invÃ©s de abstrair tal verificaÃ§Ã£o para um comando customizado.

## ConteÃºdos sugeridos

Antes de seguir adiante, tenho algumas recomendaÃ§Ãµes de conteÃºdos que irÃ£o te ajudar com os exercÃ­cios a seguir:

- [Implicit and explicit assertions - Cypress Kitchen Sink](https://example.cypress.io/commands/assertions) (em inglÃªs)
- [`its` - DOM Elements - Cypress docs](https://docs.cypress.io/api/commands/its#DOM-Elements) (em inglÃªs)

## ConteÃºdos relacionados

TambÃ©m tenho alguns conteÃºdos (relacionados) pra te indicar:

- [AHA Programming â€“ Kent C. Dodds](https://youtu.be/wuVy7rwkCfc) (em inglÃªs)
- [The Wrong Abstraction](https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction) (em inglÃªs)
- [RailsConf 2014 - All the Little Things by Sandi Metz](https://youtu.be/8bZh5LMaSmE) (em inglÃªs)

> **Obs.:** os conteÃºdos acima nÃ£o tratam exatamente de abstraÃ§Ãµes erradas em testes, mas considero-os relacionados e portanto achei que vocÃª iria gostar.

## ExercÃ­cio

Abra o arquivo [`cypress/integration/wrong-abstraction/sample.spec.js`](../cypress/integration/wrong-abstraction/sample.spec.js) e em vez de utilizar o comando customizado `.assertResults()` para fazer as verificaÃ§Ãµes nos testes, deixe tais verificaÃ§Ãµes explÃ­citas.

> NÃ£o faz mal ter um pouco de duplicaÃ§Ã£o quando isso facilita o entendimento do teste.

## _Extra credit 1_

Ainda no arquivo [`cypress/integration/wrong-abstraction/sample.spec.js`](../cypress/integration/wrong-abstraction/sample.spec.js), modifique a verificaÃ§Ã£o, para que em vez de ser explÃ­cita (`expect(rows.length).to.be.at.least(1)`), seja implÃ­cita (`cy.get('.table-row').its('length').should('be.at.least', 1)`).

___

Uau! VocÃª merece uma medalha por ter chego atÃ© aqui. ğŸ¥‡

VÃ¡ para a [prÃ³xima aula](./congratulations.md) para recapitularmos tudo que vocÃª aprendeu.
